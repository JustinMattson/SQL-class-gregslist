(function(t){function a(a){for(var r,o,i=a[0],c=a[1],l=a[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(a);while(m.length)m.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],r=!0,i=1;i<e.length;i++){var c=e[i];0!==s[c]&&(r=!1)}r&&(n.splice(a--,1),t=o(o.s=e[0]))}return t}var r={},s={app:0},n=[];function o(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=r,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)o.d(e,r,function(a){return t[a]}.bind(null,r));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=a,i=i.slice();for(var l=0;l<i.length;l++)a(i[l]);var u=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);var r=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("navbar"),e("router-view")],1)},n=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"cars"}}},[t._v("Gregs List")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item",class:{active:"cars"==t.$route.name}},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"cars"}}},[t._v("Cars")])],1),t.$auth.isAuthenticated?e("li",{staticClass:"nav-item",class:{active:"dashboard"==t.$route.name}},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[t._v("My-Dashboard")])],1):t._e(),t.$auth.isAuthenticated?e("li",{staticClass:"nav-item",class:{active:"mycars"==t.$route.name}},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"mycars"}}},[t._v("My Favorite Cars")])],1):t._e()]),e("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?e("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):e("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],c=e("bc3a"),l=e.n(c);let u=location.host.includes("localhost")?"https://localhost:5001/":"/";const d=l.a.create({baseURL:u+"api/",timeout:3e3,withCredentials:!0}),m=function(t){d.defaults.headers.authorization=t},p=function(){d.defaults.headers.authorization=""};l.a.create({baseURL:"https://localhost:5001",withCredentials:!0});var v={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),m(this.$auth.bearer)},async logout(){p(),await this.$auth.logout({returnTo:window.location.origin})}}},h=v,b=e("2877"),C=Object(b["a"])(h,o,i,!1,null,null,null),f=C.exports,g=e("335d"),y={name:"App",async beforeCreate(){await Object(g["c"])(),m(this.$auth.bearer)},components:{Navbar:f}},_=y,w=(e("5c0b"),Object(b["a"])(_,s,n,!1,null,null,null)),$=w.exports,k=e("8c4f"),x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"Cars container-fluid"},[t._m(0),e("div",{staticClass:"row"},t._l(t.cars,(function(t){return e("car",{key:t.id,staticClass:"col-4",attrs:{carData:t}})})),1)])},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col text-center"},[e("h1",{staticClass:"text-primary"},[t._v("Welcome To The Cars Page")])])])}],F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"car"},[e("div",{staticClass:"border rounded shadow",on:{click:function(a){return t.$router.push({name:"carDetails",params:{carId:t.carData.id}})}}},[e("h1",[t._v(t._s(t.carData.make))]),e("h2",[t._v(t._s(t.carData.model))]),e("img",{staticClass:"img-fluid",attrs:{src:t.carData.imgUrl}}),e("h2",[t._v(t._s(t.carData.price))]),e("h2",[t._v(t._s(t.carData.year))]),e("h2",[t._v(t._s(t.carData.body))]),t.isFavorite?e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.removeFav}},[t._v("Remove Favorite")]):e("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.addToFav}},[t._v("Add to Favorites")]),t._t("default")],2)])},M=[],j={name:"Car",props:["carData"],data(){return{favId:""}},computed:{isFavorite(){let t=this.$store.state.myFavoriteCars.find(t=>t.id==this.carData.id);return null!=t&&(this.favId=t.favoriteId,!0)}},methods:{addToFav(){event.stopPropagation(),this.$store.dispatch("addFav",{carId:this.carData.id})},removeFav(){event.stopPropagation(),this.$store.dispatch("removeFav",this.favId)}}},D=j,E=Object(b["a"])(D,F,M,!1,null,null,null),P=E.exports,U={name:"Cars",mounted(){this.$store.dispatch("getCars")},computed:{user(){return this.$store.state.user},cars(){return this.$store.state.cars}},methods:{logout(){this.$store.dispatch("logout")}},components:{Car:P}},A=U,N=Object(b["a"])(A,x,O,!1,null,null,null),T=N.exports,S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard"},[e("h1",[t._v("WELCOME TO THE DASHBOARD")]),e("car-form"),t._l(t.cars,(function(a){return e("car",{key:a.id,attrs:{carData:a}},[e("small",[t._v("*this is your car")])])}))],2)},I=[],J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"car-form"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.createCar(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"make"}},[t._v("Make")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newCar.make,expression:"newCar.make"}],staticClass:"form-control",attrs:{type:"text",name:"make",placeholder:"Enter make...."},domProps:{value:t.newCar.make},on:{input:function(a){a.target.composing||t.$set(t.newCar,"make",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"model"}},[t._v("Model")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newCar.model,expression:"newCar.model"}],staticClass:"form-control",attrs:{type:"text",name:"model",placeholder:"Enter model...."},domProps:{value:t.newCar.model},on:{input:function(a){a.target.composing||t.$set(t.newCar,"model",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"year"}},[t._v("year")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.newCar.year,expression:"newCar.year",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",name:"year",placeholder:"Enter year...."},domProps:{value:t.newCar.year},on:{input:function(a){a.target.composing||t.$set(t.newCar,"year",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.newCar.price,expression:"newCar.price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",name:"price",placeholder:"Enter price...."},domProps:{value:t.newCar.price},on:{input:function(a){a.target.composing||t.$set(t.newCar,"price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"imgUrl"}},[t._v("imgUrl")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newCar.imgUrl,expression:"newCar.imgUrl"}],staticClass:"form-control",attrs:{type:"text",name:"imgUrl",placeholder:"Enter imgUrl...."},domProps:{value:t.newCar.imgUrl},on:{input:function(a){a.target.composing||t.$set(t.newCar,"imgUrl",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"body"}},[t._v("body")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newCar.body,expression:"newCar.body"}],staticClass:"form-control",attrs:{type:"text",name:"body",placeholder:"Enter body...."},domProps:{value:t.newCar.body},on:{input:function(a){a.target.composing||t.$set(t.newCar,"body",a.target.value)}}})]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add Car")])])])},L=[],R={name:"CarForm",data(){return{newCar:{}}},mounted(){this.$store.dispatch("getCars")},computed:{cars(){return this.$store.state.cars}},methods:{createCar(){this.$store.dispatch("createCar",this.newCar)}},components:{}},z=R,B=Object(b["a"])(z,J,L,!1,null,"2c4377ee",null),H=B.exports,W={mounted(){this.$store.dispatch("getMyCars")},computed:{cars(){return this.$store.state.myCars}},components:{CarForm:H,Car:P}},G=W,Y=Object(b["a"])(G,S,I,!1,null,null,null),q=Y.exports,K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"car container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h1",[t._v("Make: "+t._s(t.car.make))]),e("h1",[t._v("Model: "+t._s(t.car.model))]),e("img",{staticClass:"img-fluid",attrs:{src:t.car.imgUrl,alt:""}})]),e("div",{staticClass:"col-6"},[e("p",[t._v("Price: "+t._s(t.car.price))]),e("p",[t._v("Year: "+t._s(t.car.year))]),e("p",[t._v(t._s(t.car.body))]),e("div",{staticClass:"form-group form-inline"},[e("label",{attrs:{for:"bid"}},[t._v("Bid Amount:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.bidAmount,expression:"bidAmount",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",name:"bid",placeholder:"300.00",min:"1"},domProps:{value:t.bidAmount},on:{input:function(a){a.target.composing||(t.bidAmount=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),e("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:function(a){return t.bid()}}},[t._v("Bid")]),t.$auth.user&&t.car.userId==t.$auth.user.sub?e("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(a){return t.deleteCar()}}},[t._v("Delete")]):t._e()])])])])},X=[],Q={name:"car",data(){return{bidAmount:1}},mounted(){this.$store.dispatch("getCar",this.$route.params.carId)},computed:{car(){return this.$store.state.activeCar}},methods:{deleteCar(){this.$store.dispatch("deleteCar",this.car.id)},bid(){let t=JSON.parse(JSON.stringify(this.car));t.price=t.price+this.bidAmount,this.$store.dispatch("bidOnCar",t)}},components:{}},V=Q,Z=Object(b["a"])(V,K,X,!1,null,"6e8df425",null),tt=Z.exports,at=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-cars row justify-content-center"},t._l(t.cars,(function(t){return e("car",{key:t.id,staticClass:"col-4 border rounded",attrs:{carData:t}})})),1)},et=[],rt={name:"my-cars",data(){return{}},mounted(){this.$store.dispatch("getMyFavoriteCars")},computed:{cars(){return this.$store.state.myFavoriteCars}},methods:{},components:{Car:P}},st=rt,nt=Object(b["a"])(st,at,et,!1,null,"e7b16b2c",null),ot=nt.exports;r["a"].use(k["a"]);var it=new k["a"]({routes:[{path:"/",name:"cars",component:T},{path:"/dashboard",name:"dashboard",component:q},{path:"/cars/user",name:"mycars",component:ot,beforeEnter:g["b"]},{path:"/cars/:carId",name:"carDetails",component:tt}]}),ct=e("2f62");r["a"].use(ct["a"]);var lt=new ct["a"].Store({state:{cars:[],myCars:[],myFavoriteCars:[],activeCar:{}},mutations:{setCars(t,a){t.cars=a},setMyCars(t,a){t.myCars=a},setMyFavoriteCars(t,a){t.myFavoriteCars=a},setCar(t,a){t.activeCar=a}},actions:{async getCars({commit:t,dispatch:a}){try{let a=await d.get("cars");t("setCars",a.data)}catch(e){alert(JSON.stringify(e))}},async getMyCars({commit:t}){let a=await d.get("/cars/user");t("setMyCars",a.data)},async getMyFavoriteCars({commit:t}){let a=await d.get("/carFavorites");t("setMyFavoriteCars",a.data)},async getCar({commit:t},a){try{let e=await d.get("/cars/"+a);console.log("getCar:",e.data),t("setCar",e.data)}catch(e){}},async createCar({commit:t,dispatch:a},e){await d.post("cars",e);a("getCars"),a("getMyCars")},async deleteCar({dispatch:t},a){try{await d.delete("cars/"+a),it.push({name:"dashboard"})}catch(e){alert(JSON.stringify(e.response.data))}},async bidOnCar({commit:t},a){try{let e=await d.put("cars/"+a.id,a);t("setCar",e.data)}catch(e){console.error(e)}},async addFav({dispatch:t},a){try{await d.post("/carFavorites",a);t("getMyFavoriteCars")}catch(e){console.error(e)}},async removeFav({dispatch:t},a){try{await d.delete("/carFavorites/"+a);t("getMyFavoriteCars")}catch(e){console.error(e)}}}});const ut="justin-student.auth0.com",dt="http://justin-student.com",mt="nKXvDFcaqNxzYvfOsNaCimE8wtP4pHGm";r["a"].use(g["a"],{domain:ut,clientId:mt,audience:dt,onRedirectCallback:t=>{it.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new r["a"]({router:it,store:lt,render:function(t){return t($)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var r=e("9c0c"),s=e.n(r);s.a},"9c0c":function(t,a,e){}});